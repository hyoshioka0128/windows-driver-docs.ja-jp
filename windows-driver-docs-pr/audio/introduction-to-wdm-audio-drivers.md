---
title: WDM オーディオ ドライバーの概要
description: WDM オーディオ ドライバーの概要
ms.assetid: 376392a8-b3ae-40c3-8bfa-55df6165cefb
keywords:
- オーディオフィルター WDK audio, KS フィルターのサブセット
- WDM オーディオドライバー WDK、WDM オーディオドライバーについて
- オーディオドライバー WDK、オーディオドライバーについて
- KS WDK オーディオをフィルター処理します。 KS フィルター
- WDK audio, KS をフィルター処理します。
- KS WDK オーディオをピン留めする
- KS WDK オーディオ、KS pin について
- WDK audio, KS をピン留めする
- オーディオジャック WDK
- 出力ピン WDK オーディオ
- 入力ピン WDK オーディオ
- ファクトリ WDK オーディオをフィルター処理する
- ファクトリ WDK オーディオをピン留めする
- カーネルストリーミング WDK オーディオ
- グラフのフィルター WDK オーディオ
- スピーカー WDK オーディオ
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 524414914faf1591f9f15e7f988392399a8d791e
ms.sourcegitcommit: 98930ca95b9adbb6e5e472f89e91ab084e67e31d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/08/2020
ms.locfileid: "82925571"
---
# <a name="introduction-to-wdm-audio-drivers"></a>WDM オーディオ ドライバーの概要


## <span id="introduction_to_wdm_audio_drivers"></span><span id="INTRODUCTION_TO_WDM_AUDIO_DRIVERS"></span>


カーネルストリーミング (KS) サービスは、オーディオとその他の種類の連続メディアのデータストリームのカーネルモード処理をサポートしています。 概念的には、ストリームは、いくつかの処理ノードを含むデータパスに沿ってフローするので、処理を実行します。 関連するノードのセットがグループ化され、 *KS フィルター*が形成されます。これは、ストリーム処理機能のより個別のブロックを表します。 複数のフィルターを組み合わせて*フィルターグラフ*を作成することで、より複雑な関数をモジュール方式で構築できます。

一般的なオーディオアダプターカードには、スピーカーのセットを介して wave ストリームを再生するオーディオデバイスが含まれている場合があります。オーディオ信号をマイクから wave ストリームに変換し、MIDI ストリームからサウンドをからします。 アダプタードライバーは、これらの各オーディオデバイスを、オペレーティングシステムに公開される KS フィルターにラップできます。 オペレーティングシステムは、フィルターを他のフィルターに接続して、アプリケーションプログラムの代わりにオーディオストリームを処理するフィルターグラフを形成します。

KS フィルターは、*ピン*によって相互に接続されます。 オーディオフィルターのピンは、オーディオジャックと考えることができます。 クライアントは、フィルターに対してデータストリームをルーティングする必要があるときに、フィルターの入力ピンまたは出力ピンをインスタンス化します。 コンテキストによっては、 *pin*と*ストリーム*という用語を同義に使用できます。

上流フィルターの出力ピンは、下流フィルターの入力ピンに接続されています。 出力ピンのデータストリームには、入力ピンが受け入れることができるデータ形式が必要です。 通常、データのバッファリングは、出力ピンによってデータが生成され、入力ピンによってデータが使用される速度における瞬間的な不一致を滑らかにするために必要です。

KS フィルターは、関連するいくつかのストリーム処理関数をカプセル化するカーネルモードドライバーオブジェクトとして実装されます。 この機能は、ソフトウェアまたはハードウェアで実装できます。 このモデルでは、オーディオアダプターをハードウェアデバイスのコレクションとして表示できます。アダプタードライバーは、これらの各デバイスを個々のフィルターとしてオーディオシステムに公開します。

アダプタードライバーは、*フィルターファクトリ*のコレクションをオーディオシステムに公開します。 各フィルターファクトリは、特定の型のフィルターをインスタンス化できます。

-   機能が似ているか同一であるデバイスがアダプターに1つ以上含まれている場合、ドライバーはそれらのデバイスのフィルターを同じフィルターファクトリにグループ化します。

-   アダプターに複数の種類のデバイスが含まれている場合、それらのデバイスは複数の異なるフィルターファクトリを通じて表示されます。

KS フィルターは、オーディオシステムに*ピンファクトリ*のコレクションを公開します。 各ピンファクトリは、特定の種類のピンをインスタンス化できます。 関数内で類似または同一の1つ以上のピンをフィルターが指定できる場合、フィルターはそれらのピンを同じ pin ファクトリにグループ化します。 たとえば、オーディオミックスを実行するフィルターは、1つの出力ピンをインスタンス化し、複数の入力ピンをインスタンス化できる2番目のピンファクトリを持つことができます。

KS サービスは Windows Driver Model に基づいて構築されています。 " *KS" フィルター*は、別の WDM 概念である*フィルタードライバー*と区別する必要があることに注意してください。 フィルタードライバーは、WDM ドライバースタック内に存在し、スタックを通じて伝達される i/o 要求パケット (Irp) をインターセプトおよび変更できます。 上位レベルと下位レベルのフィルタードライバーは、それぞれ関数ドライバーの上と下に配置されます。 このセクションでは、*フィルター*という用語は、特に明記されていない限り、フィルタードライバーではなく KS フィルターを参照します。 フィルタードライバーの詳細については、「 [WDM ドライバーの種類](https://docs.microsoft.com/windows-hardware/drivers/kernel/types-of-wdm-drivers)」を参照してください。

このセクションのトピックは次のとおりです。

[WDM オーディオ ドライバーの基本機能](basic-functions-of-a-wdm-audio-driver.md)

[ベンダーのオーディオ ドライバー オプション](vendor-audio-driver-options.md)

[WDM オーディオの用語](wdm-audio-terminology.md)

[オーディオ ドライバーのサンプル](sample-audio-drivers.md)

[KsStudio ユーティリティ](ksstudio-utility.md)

WDM オーディオアーキテクチャの新機能に関する更新プログラムと情報については、「 [audio テクノロジ](https://docs.microsoft.com/windows-hardware/drivers/audio/)」 web サイトを参照してください。

 

 




