---
title: Serial Port Console Redirection Table (SPCR)
description: シリアルポートまたは非レガシ UART インターフェイスを Microsoft® Windows®緊急管理サービス (EMS) で使用できるかどうかを示すために使用されるシリアルポートコンソールリダイレクトテーブル。
ms.assetid: cbcd2e71-881a-44f6-b3d8-5d2aadb02b27
keywords:
- SPCR
- EMS UART
ms.date: 07/23/2018
ms.openlocfilehash: a496b2fda1bb8d730a4b8db73d550864bd114f6a
ms.sourcegitcommit: 581fb777a2376854ca12e767d366e2cb79724b73
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/05/2020
ms.locfileid: "84461837"
---
# <a name="serial-port-console-redirection-table--spcr"></a>シリアルポートコンソールのリダイレクトテーブル (SPCR)

このドキュメントでは、シリアルポートコンソールのリダイレクトテーブルの内容を定義します。 このテーブルは、Microsoft® Windows®緊急管理サービス (EMS) で使用できるシリアルポートまたは非レガシ UART インターフェイスがあるかどうかを示すために使用されます。

この表では、シリアルポートまたは非レガシ UART インターフェイスの構成と使用に関する情報を提供します。 BIOS またはシステムファームウェアがコンソールの入出力にシリアルポートを使用するシステムでは、このテーブルを使用して設定に関する情報を伝達し、ファームウェアコンソールの出力と Windows EMS 出力をシームレスに移行できるようにする必要があります。

このテーブルは、他の ACPI テーブルと共にシステムメモリに配置され、ACPI RSDT テーブルで参照される必要があります。 

> 特許通知: Microsoft は、次の2つのオプションを使用して、特定の特許権をこの仕様の実装に使用できるようにしています。
> 1)  マイクロソフトのコミュニティ保証は、でご利用いただけ <https://www.microsoft.com/openspecifications/en/us/programs/community-promise/default.aspx> ます。
> 2)  Open Web Foundation Final Specification Agreement バージョン 1.0 ("OWF 1.0") は、2012年10月1日の時点で利用でき http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0 ます。 


| **フィールド** | **バイト長** | **バイト オフセット** | **説明** | 
|-----------|-----------------|-----------------|-----------------|
| ヘッダー |  |  |  | 
| 署名 | 4 | 0 | ' SPCR '。 シリアルポートコンソールのリダイレクトテーブルの署名。 | 
| 長さ | 4 | 4 | シリアルポートコンソールのリダイレクトテーブル全体の長さ (バイト単位)。 | 
| リビジョン | 1 | 8 | 2 | 
| Checksum | 1 | 9 | テーブル全体の合計がゼロになる必要がある。 | 
| OEMID | 6 | 10 | OEM ID。 | 
| OEM テーブル ID | 8 | 16 | シリアルポートコンソールのリダイレクトテーブルの場合、テーブル ID は製造元のモデル ID です。 | 
| OEM 改訂番号 | 4 | 24 | 指定された OEM テーブル ID のシリアルポートコンソールリダイレクトテーブルの OEM リビジョン。 | 
| 作成者 ID | 4 | 28 | テーブルを作成したユーティリティのベンダー ID。 DSDT、RSDT、SSDT、および PSDT テーブルの場合、これは ASL コンパイラの ID です。 | 
| 作成者改訂番号 | 4 | 32 | テーブルを作成したユーティリティの改訂番号。 DSDT、RSDT、SSDT、および PSDT テーブルの場合、これは ASL コンパイラのリビジョンです。 | 
| インターフェイスの種類 | 1 | 36 | レジスタインターフェイスの種類を示します。 <p> リビジョン 1: </p> <ul><li>0 = 完全な16550インターフェイス </li><li>1 = 完全な16450インターフェイス (16550 FCR レジスタへの書き込みも受け入れる必要があります) </li><li>2-255 = 予約済み </li></ul><p>リビジョン2の場合: <p>[DBG2 仕様](https://docs.microsoft.com/previous-versions/windows/hardware/design/dn639131(v=vs.85))の表3のシリアルポートのサブタイプを参照してください。 </p>| 
| 予約済み | 3 | 37 | 0 を指定する必要があります。 | 
| ベース アドレス | 12 | 40|<p>ACPI 汎用アドレス構造を使用して記述されたシリアルポートレジスタセットのベースアドレス。</p>0 = コンソールのリダイレクトを無効にします。 <p>**注:** <p>COM1 (0x3F8) は次のようになります。</p><ul><li>整数の形式: 0x 01 08 00 00 00000000000003F8</li><li>メモリで表示: 0x01080000F803000000000000</li></ul><p>COM2 (Ox2F8) は次のようになります。<ul><li>整数の形式: 0x 01 08 00 00 00000000000002F8</li><li>メモリで表示: 0x01080000F802000000000000 </li></ul>|
| 割り込みの種類 | 1 | 52 | UART が使用する割り込みの種類:<ul><li>ビット [0]: PC と互換性のあるデュアル8259の IRQ 割り込み</li><li>ビット [1]: i/o APIC 割り込み (グローバルシステム割り込み)</li><li>ビット [2]: i/o SAPIC interrupt (グローバルシステム割り込み)</li><li>ビット [3]: ARMH GIC interrupt (グローバルシステム割り込み)</li><li>ビット [4: 7]: 予約済み (0 に設定する必要があります)</li></ul> Where <ul><li>0 = サポートされていません。</li><li>1 = サポートされています</li></ul> デュアル8259と i/o APIC または i/o SAPIC の両方を持つプラットフォームでは、IRQ ビット (ビット [0]) とそれに対応するグローバルシステム割り込みビットを設定する必要があります。 (たとえば、8259と SAPIC がサポートされているシステムは5になります)。|
| IRQ●irq○ | 1 | 53 | UART によって使用される、PC と互換性のある IRQ: <ul><li>2-7、9-12、14-15 = それぞれ有効な Irq</li><li>0-1、8、13、16-255 = 予約済み</li></ul> [割り込みの種類] フィールドのビット [0] が設定されている場合にのみ有効です。 | 
| グローバルシステム割り込み | 4 | 54 | UART によって使用されるグローバルシステム割り込み (GSIV)。 <p>[割り込みの種類] フィールドに設定されているビット [0] が唯一のビットの場合は無効です。 </p>|
| ボーレート | 1 | 58 | BIOS がリダイレクトに使用するボーレート。 <ul><li>0 = の場合、オペレーティングシステムは、完全な機能を備えたドライバーが初期化されるまで、シリアルポートの現在の構成に依存します。</li><li>3 = 9600</li><li>4 = 19200</li><li>6 = 57600</li><li>7 = 115200</li><li>1-2、5、8-255 = 予約済み</li></ul>|
| パリティ| 1 | 59 | <ul><li>0 = パリティなし</li><li>1-255 = 予約済み</li></ul> | 
| ストップビット| 1 | 60 | <ul><li>0 = ストップビット</li><li>1-255 = 予約済み</li></ul> | 
| ターミナルの種類 | 1 | 62 |BIOS がコンソールのリダイレクトに使用していたターミナルプロトコル:<ul><li>0 = VT100</li><li>1 = VT100 +</li><li>2 = VT-UTF8</li><li>3 = ANSI<li>4-255 = 予約済み </li></ul>| 
| 予約済み | 1 | 63 | 0にする必要があります | 
| PCI デバイス ID | 2 | 64 | PCI デバイスでない場合は0xFFFF である必要があります | 
| PCI ベンダー ID | 2 | 66 | PCI デバイスでない場合は0xFFFF である必要があります | 
| PCI バス番号 | 1 | 68 | テーブルが PCI デバイスを説明している場合は PCI バス番号<p>PCI デバイスでない場合は、0x00 である必要があります。</p> | 
| PCI デバイス番号 | 1 | 69 | テーブルが PCI デバイスを表している場合は PCI スロット番号<p>PCI デバイスでない場合は、0x00 である必要があります。</p>| 
| PCI 関数の番号 | 1 | 70 | Pci デバイスについてテーブルが記述する場合の PCI 関数番号<p>PCI デバイスでない場合は、0x00 である必要があります。</p> | 
| PCI フラグ | 4 | 71 | PCI 互換性フラグのビットマスク。  既定ではゼロにする必要があります。<ul><li>ビット [0]: オペレーティングシステムでは、PNP デバイスの列挙を抑制したり、このデバイスの電源管理を無効にしたりしないでください。 PCI デバイスでない場合は0にする必要があります。</li><li>ビット [1-31]: 予約済み、0である必要があります。</li></ul>| 
| PCI セグメント | 1 | 75 | PCI セグメント番号。 <p>PCI バスが255未満のシステムの場合、この数値は0にする必要があります。 </p>| 
| 予約済み | 4 | 76 | 0にする必要があります | 

## <a name="revision-history"></a>リビジョン履歴

| Date      | ...  | 説明                                                                                                                 |
|:----------|:-----|:----------------------------------------------------------------------------------------------------------------------------|
| 2/15/00   | .10  | Created                                                                                                                     |
| 3/1/00    | . 50  | ' SPCR '。 追加された署名データ                                                                                                |
| 3/20/00   | .55  | ポートと irq を含むように変更されたデータ                                                                                        |
| 3/22/00   | . 56  | リダイレクトを無効にするためのポート id の追加機能を明確にしました。 ジェネリックレジスタアドレス構造へのポインターを追加しました |
| 3/23/00   | 56a | 書式設定、免責事項、コピー編集                                                                                        |
| 4/24/00   | . 6   | Web 上に WinHEC 用に投稿                                                                                                    |
| 4/24/00   | . 6   | 公開レビューの下書きが公開されました                                                                                               |
| 5/25/00   | . 61  | BASE_ADDRESS 説明の修正                                                                                      |
| 5/25/00   | . 61  | 公開レビューの下書きが公開されました                                                                                               |
| 5/31/00   | . 7   | BASE_ADDRESS 説明の例を修正します。 16540インターフェイスを追加しました                                                      |
| 5/31/00   | . 71  | GRAS の情報をメモから "" に変更しました \*                                                                          |
| 5/31/00   | . 71  | 公開レビューの下書きが公開されました                                                                                               |
| 6/1/00    | . 72  | GRAS COM ポートの例を、リトルエンディアンで行末に追加されたテキストに変更しました                                        |
| 7/12/00   | . 75  | IRQ の説明を修正します。 さまざまな形式の問題を修正し、PCI バス情報を追加しました。                                               |
| 7/26/00   | . 76  | PCI フィールド名 "デバイス番号" に更新します。 レガシ UART 以外を含むように、導入言語を変更しました。                                |
| 8/10/00   | . 77  | 割り込み情報の変更、APIC および SAPIC の追加されたフロー制御の追加                                                    |
| 9/22/00   | . 78  | 追加された PCI セグメント                                                                                                           |
| 10/25/00  | . 80  | 固定 PCI フラグセクション。 追加されたターミナルの種類 16450 FCR info                                                          |
| 10/1/01   | . 95  | 削除された言語コード                                                                                                      |
| 1/11/02   | 1.00 | 更新されたライセンス仕様を1.00 に追加する                                                                                       |
| 3/12/14   | 1.01 | Microsoft コミュニティ Promise でリリース                                                                                  |
| 6/2/14    | 1.02 | テーブルのリビジョンが2に変更され、DBG2 仕様で定義されている追加のインターフェイスの種類のサポートが追加されました。         |
| 8/10/15   | 1.03 | 特許通知を更新しました。                                                                                                      |
| 7/23/2018 | 1.04 |                                                                                                                             |
| 6/5/2020  | 1.05 | 編集済みの書式設定                                                                                                           |


