---
title: ドライバーの検証ツールを使用したカーネルモード メモリ リークの検出
description: ドライバーの検証ツールを使用したカーネルモード メモリ リークの検出
ms.assetid: d81a8b72-91d3-4132-9cc2-1cf1b597306a
ms.date: 11/28/2017
ms.localizationpriority: medium
ms.openlocfilehash: 954954781463b94081e1e0d468f31d6dd0f8802e
ms.sourcegitcommit: dadc9ced1670d667e31eb0cb58d6a622f0f09c46
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84534757"
---
# <a name="using-driver-verifier-to-find-a-kernel-mode-memory-leak"></a>ドライバーの検証ツールを使用したカーネルモード メモリ リークの検出


ドライバーの検証ツールは、カーネルモードドライバーがメモリをリークしているかどうかを判断します。

ドライバー検証ツールのプール追跡機能は、指定されたドライバーによって行われたメモリ割り当てを監視します。 ドライバーがアンロードされた時点で、ドライバーの検証ツールは、ドライバーによって行われたすべての割り当てが解放されたことを確認します。 ドライバーの割り当ての一部が解放されていない場合は、バグチェックが発行され、バグチェックのパラメーターによって問題の性質が示されます。

この機能がアクティブになっている間は、ドライバー検証マネージャーのグラフィカルインターフェイスを使用して、プール割り当ての統計情報を監視します。 カーネルデバッガーがドライバーにアタッチされている場合は、 [**! verifier 0x3**](-verifier.md)拡張機能を使用して割り当ての統計情報を表示します。

ドライバーがダイレクトメモリアクセス (DMA) を使用する場合、ドライバーの検証ツールの DMA 検証機能は、メモリリークの検出にも役立ちます。 DMA 検証では、一般的なバッファーの解放エラーや、メモリリークにつながる可能性があるその他のエラーなど、多くの一般的な DMA ルーチンの不適切な使用についてテストします。 このオプションがアクティブになっている間にカーネルデバッガーがアタッチされている場合は、 [**! dma**](-dma.md)拡張機能を使用して割り当ての統計情報を表示します。

ドライバーの検証機能の詳細については、「Windows Driver Kit (WDK)」ドキュメントの「 [Driver verifier](https://docs.microsoft.com/windows-hardware/drivers/devtest/driver-verifier) 」を参照してください。

 

 





