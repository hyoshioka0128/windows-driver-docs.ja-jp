---
title: ビデオ ストリームの停止原因の判別
description: ビデオ ストリームの停止原因の判別
ms.assetid: 959c2295-1ec3-48b0-aed9-93a81378372f
keywords:
- カーネルストリーミングデバッグ、ビデオストリームの停止、原因
ms.date: 05/23/2017
ms.localizationpriority: medium
ms.openlocfilehash: 31c557600c9b31b47077dfb6a8d88bf5f18b417e
ms.sourcegitcommit: dadc9ced1670d667e31eb0cb58d6a622f0f09c46
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84534379"
---
# <a name="determining-the-cause-of-a-video-stream-stall"></a>ビデオ ストリームの停止原因の判別


ビデオストリームの失速には、次の2つの基本的な原因があります。

-   **ハング。** ユーザーモードスレッドまたはカーネルモードスレッドがドライバーによって解放されていません。

-   **失速。** これは、ストリーミングパスのコンポーネントに問題があるためです。 次のような可能性があります。
    -   キャプチャドライバーがパケットを完了していません。 この場合は、ドライバーコンポーネントまたはハードウェアが失速の原因である可能性があります。
    -   キャプチャドライバーには、完了するためのパケットがありません。 この場合、コーデックまたはその他の下流コンポーネントでバッファーが停滞している可能性があります。

問題を再現できる場合は、この時点でデバッガーをアタッチして、実際の原因を判断してください。

**問題がハングしているかどうかを判断するには**

1.  ユーザーモードのデバッガーをアプリケーションにアタッチし、ブロックされているユーザーモードのスレッドを検索します。

2.  アプリケーションが応答しているかどうかを判断します。 グラフを一時停止することはできますか。 グラフを停止することはできますか。 グラフを停止して再起動した場合、ストリーミングが再開されますか。

3.  アプリケーションが応答しない場合は、タスクマネージャーを使用してタスクを終了します。 これが失敗した場合は、カーネルモードがハングしています。

**問題がストールであるかどうかを判断するには**

1.  グラフ内のサンプルがどこにあるかを判断します。 これは、ローカルで行うことも、カーネルモードのデバッグセッションで実行することもできます。

2.  サンプルが下流にフローしているかどうかを判断します。 [Graphedit](https://docs.microsoft.com/windows/win32/directshow/simulating-graph-building-with-graphedit)でバグを再現できる場合は、グラフに中間フィルターを配置してサンプルを表示します。

3.  処理ルーチンが呼び出されているかどうかを確認します。 これを行うには、カーネルモードのデバッガーをアタッチし、このルーチンでブレークポイントを設定します。

 

 





