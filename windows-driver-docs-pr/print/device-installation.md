---
title: デバイスのインストール
description: デバイスのインストール
ms.assetid: 47bbe4cd-bcbc-42d5-9513-9ea659c123dc
keywords:
- ホットプラグ可能バス WDK プリンター
- プリンターのインストールチェック WDK
- 状態 WDK プリンター
- プリンターのインストールの確認
- インストールされているドライバーテストの WDK プリンター
ms.date: 06/05/2020
ms.localizationpriority: medium
ms.openlocfilehash: 9e84520782c1b2d13ac0394bda31ae4c09eb9ee3
ms.sourcegitcommit: f0e54ea159d168a77643bf2e098d6b90e92b528c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/05/2020
ms.locfileid: "84455560"
---
# <a name="device-installation"></a>デバイスのインストール

ポート接続デバイスの最初のインストールはさまざまな方法で実行され、デバイスが初めて接続されるときに、システムはさまざまな状態になることがあります。

| システム状態 | デバイスのテストシナリオ |
| --- | --- |
| システムオフ (S5) | ブートインストール |
| システムの動作状態 (S0) | 基本プラグアンドプレイ |
| スリープ状態のシステム (S1-S4) | 「[電源管理](power-management.md)」を参照してください。 |

詳細については、「[システム電源状態](https://docs.microsoft.com/windows-hardware/drivers/kernel/system-power-states)」を参照してください。

デバイスの初期インストールが行われる最も一般的なシステム電源の状態は、システムの動作状態 S0 です。 デバイスのインストールテストのほとんどは、最初はここで重点的に行う必要がありますが、他のシステム電源の状態でもインストールを確認することが重要です。

デバイスのプラグアンドプレイ (PnP) の互換性は、デバイスが最初に接続されたときの状態で評価することをお勧めします。 最初のインストールテストで、デバイスが接続された状態でシステムを起動し、システムがシステムの動作状態 S0 になったときにデバイスをインストールします。 最後に、使用可能なすべてのシステム電源状態の組み合わせで、デバイスの接続とインストールを確認します。 詳細については、「[電源管理](power-management.md)」を参照してください。

## <a name="verifying-basic-installation"></a>基本インストールの確認

プリンターに初めて接続すると、プラグアンドプレイ (PnP) 通知が送信されます。 デバイスが正しく識別されていることを確認します。 デバイス名は正しく認識される必要があります。 正しいドライバーが提供されている場合は、デバイスが正常にインストールされます。 ドライバーのインストールが失敗した場合は、デバイスマネージャーを開いて、エラーの考えられる原因を調べてください。 コントロールパネルの [**管理ツール**] で [**コンピューターの管理**] をダブルクリックしてデバイスマネージャーを開きます。 または、デスクトップの [**マイコンピューター** ] アイコンを右クリックし、[**プロパティ**] を選択します。 [**ハードウェア**] タブで、[**デバイスマネージャー**] をクリックします。

次の2つのシナリオがスムーズに動作することを確認します。

- まずドライバーをインストールしてから、デバイスをインストールします。

- まず、デバイスをインストールしてから、ドライバーをインストールします。

## <a name="using-control-panel-applications-to-confirm-device-installation"></a>コントロールパネルアプリケーションを使用したデバイスのインストールの確認

ドライバーが正常にインストールされたら、次のコントロールパネルアプリケーションを使用して、プリンターが適切な場所にインストールされていることを確認します。

- **デバイスマネージャー:** デバイスが正しくインストールされていることを確認します。 これは、接続されているバスに応じてツリーに表示されます。 デバイスマネージャーから、プリンターが正しく応答していることを確認してから、デバイスを無効にしたり、再度有効にしたり、アンインストールしたり、インストールしたりします。 デバイスを再インストールするには、[デバイスマネージャーの**操作**] メニューの [**ハードウェアの変更のスキャン**] をクリックします。

- **プリンターと fax:** このコントロールパネルアプリケーションから、プリンターアイコンが表示されていることを確認します。 また、プリンタアイコンが正常に削除されていることを確認します。 プリンタの追加ウィザードを使用してプリンタを再インストールできることを確認します。

- **デバイス固有のコントロールパネルアプリケーション:** Bluetooth などの一部のバスには、独自のコントロールパネルアプリケーションがあります。 このコントロールパネルアプリケーションから、デバイスが適切にインストールされていること、デバイスが特殊なバスを介して接続されていること、デバイスを削除して正常にインストールできることを確認します。

## <a name="finding-canceling-and-deleting-installations"></a>インストールの検索、取り消し、および削除

次のように印刷デバイスのインストールをテストします。

- プリンターのインストール中に、インストールを取り消してから再起動します。 プリンターは正常にインストールされます。

- プリンターが正常にインストールされたら、それを削除してから再インストールします。 問題なくインストールする必要があります。

- プリンターが共有しているのと同じバスに他のリソースがインストールされていると同時に印刷できることを確認します。

- プリンターが正常にインストールされたら、もう一度インストールしてみてください。 新しいハードウェアが検出されたことを通知するダイアログボックスは表示されません。また、新しいハードウェアウィザードを起動する必要もありません。

- デバイスの電源サイクルが動作していることを確認します。 プリンターがホットプラグ対応のバス上にある場合は、[**プリンターと fax** ] ウィンドウ (コントロールパネル内) にオフラインとして表示されます。 また、デバイスマネージャーを調べて、デバイスがシステムから削除されていることを確認します。

### <a name="bus-specific-hardware-requirements"></a>バス固有のハードウェア要件

ユニバーサルシリアルバス (USB) などの特定のバスは、さまざまなハードウェア要件を持つことができます。 できるだけ多くのバリエーションをカバーして、さまざまなハードウェアでプリンターのインストールをテストしてください。 USB の場合、デバイスが open host controller インターフェイス (OHCI、USB 1.1)、universal host controller interface (UHCI、USB 1.1)、または拡張ホストコントローラーインターフェイス (EHCI、USB 1.1) でテストされていることを確認してください。

### <a name="hot-pluggable-buses-and-device-chaining"></a>ホットプラグ可能なバスとデバイスのチェーン

USB、IEEE 1394 などの特定のバスは「ホットプラグ可能」です。つまり、デバイスをコンピューターから取り外したり、デバイスの電源をオフにしたりするだけで、バスからデバイスを取り外すことができます。 ホットプラグ可能なデバイスが正常に機能することを確認するには、次の手順を実行します。

1. デバイスをコンピューターに接続します。

1. 前に説明したコントロールパネルアプリケーションを使用して、デバイスが適切な場所にインストールされていることを確認します。

1. デバイスが正常に機能していることを確認します。

1. デバイスをコンピューターから取り外し、デバイスマネージャーにデバイスが表示されないことを確認します。

1. バスでチェーンがサポートされている場合は、複数のデバイスをまとめて、デバイスが正常にインストールされ、機能していることを確認します。

1. USB デバイスの場合、デバイスがさまざまな構成および種類の usb ハブで動作できることを確認します。これには、USB 1.1 や USB 2.0、および複数のデバイスのチェーンが含まれます。

ハブでプリンターをテストするには、次の手順を実行します。

1. 同じハブとチェーンハブの別のポートに印刷デバイスをインストールしてみてください。

1. 同じハブとチェーンハブで他のプリンター (同じモデルと異なるモデルの両方) をテストします。

1. 他のデバイスが同時にインストールされている場合は、プリンターが正しくインストールされていることを確認します。

1. プリンターを新しいハブデバイスに接続すると、その他のポート接続デバイスもインストールされます。

1. 複数のプリンターを別のポートにインストールし、各プリンターのインスタンスが1つだけインストールされていることを確認します。

1. 1つのポートからプリンターを切断し、別のポートに接続してから、古いポートから正常にアンインストールされ、新しいポートに正常に再インストールされることを確認します。
