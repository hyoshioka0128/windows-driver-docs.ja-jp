---
title: AV/C の概要
description: AV/C の概要
ms.assetid: ff9e6dfc-7ab4-4b56-8b47-d3ea46b579e0
keywords:
- AV/C WDK、AV/C について
- Avc.sys function driver WDK
- peer Avc.sys モード WDK AV/C
- 仮想 Avc.sys モード WDK AV/C
- Avc.sys 関数ドライバー WDK、Avc.sys 関数ドライバーについて
ms.date: 06/15/2020
ms.localizationpriority: medium
ms.openlocfilehash: c430d5cbd982d9182e60f037bd1e5b19ad07ac52
ms.sourcegitcommit: 77c63789350cfc1dc740baaafdef64803d86217f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/16/2020
ms.locfileid: "84793748"
---
# <a name="avc-overview"></a>AV/C の概要

このセクションでは、IEEE 1394 オーディオ/ビデオ制御 (AV/C) プロトコルをサポートする、Microsoft 提供の*Avc.sys*関数ドライバーについて説明します。 また、このセクションでは、AV/C 互換デバイスの AV/C サブユニットドライバーを開発するためのガイドラインも提供します。 AV/C プロトコルの詳細については、 [1394 取引アソシエーションの](https://1394ta.org/library-2)web サイトを参照してください。 ベンダーは、必要に応じて、Microsoft が提供するドライバー ( *Msdv.sys*または*Mstape.sys*) を使用してテープサブユニットをサポートする可能性があることに注意してください。 これら2つのクラスドライバーにより、テープのドライバーをサブユニット不要にすることができます。

*Avc.sys*には、ピアと仮想の2つの動作モードがあります。 *Avc.sys*ピアモードは、外部 AV/C デバイスでのサブユニットをサポートしています。 *Avc.sys*仮想モードを使用すると、コンピューターの機能を Av/c サブユニットとして公開できるため、コンピューターを、IEEE 1394 serial bus を介して、他の av/c デバイスからの Av/c コマンドと要求の有効なターゲットにすることができます。

*Avc.sys*は、個別のドライバースタックを使用して、ピアサブユニットと仮想サブユニットをサポートします。 異なるモードは、同一の機能をサポートしていないことに注意してください。 ピアサブユニットと仮想サブユニットドライバースタックの詳細については、「 [AV/C ドライバースタック](av-c-driver-stacks.md)」を参照してください。

*Avc.sys*は、ピアと仮想サブユニットの両方に対してデバイス識別子 (IDs) を生成します。 デバイス識別子は、正しい INF ファイルとサブユニットドライバーをサブユニットに関連付けます。 AV/C デバイスがコンピューターに接続すると、 *Avc.sys*は active サブユニットをピアサブユニットとして列挙します。 次に、対応するサブユニットドライバーが読み込まれます。 ピアと仮想サブユニットの両方のデバイス識別子文字列の形式の詳細については、「 [AV/C デバイス id](av-c-device-identifiers.md)」を参照してください。

*Avc.sys*には、次の機能があります。

- ピアサブユニットドライバーの代わりに AV/C 仕様で定義されている、100ミリ秒の要件内の中間応答。 *Avc.sys*は、AV/C コマンドまたはクエリの最終的な応答だけを返します。 仮想サブユニットドライバーは、引き続き中間と最終的な応答を生成する必要があります。

- AV/C サブユニットからの応答をそれぞれのサブユニットドライバーにルーティングします。 サブユニットドライバーは、ハードウェアからのみ応答を受信します。

- カーネルストリーミング (KS) フレームワーク内の IEC-61883 プラグ列挙および制御。 プラグ接続とデータ形式の詳細については、「 [AV/C サブユニットのプラグ接続と形式管理](av-c-subunit-plug-connection-and-format-management.md)」を参照してください。

サブユニットドライバーは、ストリームクラスインターフェイスまたは新しい AVStream インターフェイスのいずれかを使用できます。 さらに、サブユニットドライバーは、独自の KS プロキシプラグインを提供して、カスタムプロパティページをユーザーモードアプリケーションに公開できます。 詳細については、「 [AV/C カーネルストリームインターフェイスと KS プロキシプラグイン](av-c-kernel-streaming-interface-and-kernel-streaming-proxy-plug-ins.md)」を参照してください。

通常、ベンダーは、次のことをサポートするために AV/C サブユニットドライバーを記述します。

- [1394 貿易 Association 仕様](https://1394ta.org/library-2)web サイトで定義されているデバイスの種類に基づいてサブユニットを制御する

- IEEE 1394 bus 全体で IEC 61883 標準に基づいてデータをストリーム配信するための接続を管理します。 61883標準の詳細については、「 [IEC](https://www.iec.ch/) 」 web サイトを参照してください。
