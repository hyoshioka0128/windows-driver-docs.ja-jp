---
title: USB ビデオ クラス ドライバーの概要
description: USB ビデオクラスドライバーの概要
ms.assetid: 890d448e-bfee-462d-8cce-a2cca42f2f6d
keywords:
- USB ビデオクラスドライバー WDK AVStream、USB ビデオクラスドライバーについて
- ビデオクラスドライバー WDK USB、USB ビデオクラスドライバーについて
- UVC ドライバー WDK AVStream、USB ビデオクラスドライバーについて
- ユーザーモードクライアント WDK USB ビデオクラス
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 1a674d7f7fcdb6bf1961e57761e70708124073c1
ms.sourcegitcommit: baf3075858705d4c78d4ea4b0869bf6291bcb823
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/20/2020
ms.locfileid: "85112130"
---
# <a name="usb-video-class-driver-overview"></a>USB ビデオクラスドライバーの概要

Web カメラまたはデジタルビデオカメラ用のドライバーを提供する場合は、システム提供のユニバーサルシリアルバス (USB) ビデオクラスドライバーの使用を検討してください Usbvideo.sys。 USB Video Class (UVC) ドライバーは、USB ビデオクラスデバイスのドライバーサポートを提供する、Microsoft が提供する AVStream ミニドライバーです。 デバイスで UVC を使用する場合、独自のドライバーを指定する必要はありません。 代わりに、デバイスはシステムが提供するドライバーで自動的に動作します。

USB Video クラスモデルでは、ベンダーはドライバーを書き込みません。代わりに、ベンダーは、 [USB 実装者フォーラム](https://www.usb.org/documents)の web サイトにある*ビデオデバイス仕様ドキュメントのユニバーサルシリアルバスデバイスクラス定義*に関するガイドラインに従って、ビデオストリーミングハードウェアを実装します。 UVC ドライバーは、ハードウェアを直接照会してその機能を取得し、専用のドライバーを必要とせずにデバイスをドライブにします。

必要に応じて、UVC ドライバーの機能を拡張して、ベンダー固有の処理を追加することができます。

次の表は、さまざまなバージョンの Windows での UVC のサポートを示しています。

| UVC バージョン | Windows Vista/XP | Windows 7 | Windows 8 |
|--|--|--|--|
| USB ビデオクラス 1.5 (h.264 ビデオコーデック) | サポートなし | サポートなし | サポート |
| USB ビデオクラス1.1 | サポートなし | サポート | サポート状況 |
| USB ビデオクラス1.0 | サポート状況 | サポート状況 | サポート状況 |

Windows 8 以降では、h.264 ビデオコーデック (エンコーダー/デコーダー) がサポートされています。 H.264 は、ネットワーク帯域幅と記憶域スペースの使用を減らすための効率的なビデオ圧縮手法を実現するオープンスタンダードです。 これにより、特定のビットレートのビデオ品質が向上します。 詳細については、「 [USB H.264 ビデオカメラのサポート](usb-h-264-video-cameras-support.md)」を参照してください。 また、h.264[の USB Video クラスに対する Microsoft の提案された拡張機能](https://docs.microsoft.com/previous-versions/windows/hardware/download/dn550976(v=vs.85))についても参照してください。

次の一覧に、Usbvideo.sys ドライバーを使用する利点をいくつか示します。

- インストールに必要な CD がありません

- ドライバー書き込みコストなし

- メンテナンスコストなし

- ベンダーが機能を追加する機会

- パブリックシンボルを使用したデバッグの簡略化

- ドライバーの検証ツールと連携する

- 確認済み OS ビルドで動作

- ACPI 電源管理に準拠している

- セレクティブサスペンド電源管理に準拠している

- メディアファンデーションと DirectShow でのマルチメディア Api のサポート

システム提供の Usbvideo.sys ドライバーでは、さまざまなバージョンの Windows で次の UVC 機能がサポートされています。

| UVC 機能 | Windows Vista/XP | Windows 7 | Windows 8 |
|--|--|--|--|
| 1つのビデオコントロールインターフェイスと1つ以上のビデオストリーミングインターフェイス | サポート状況 | サポート状況 | サポート状況 |
| 標準ユニットと端末 (拡張装置を含む) | サポート状況 | サポート状況 | サポート状況 |
| UVC 仕様で定義されている3つのメソッドすべてに対してイメージキャプチャがサポートされるようになります。 | サポート状況 | サポート状況 | サポート状況 |
| Bulk デバイスとアイソクロナスデバイス | サポート状況 | サポート状況 | サポート状況 |
| プローブコミットコントロールを使用したストリーミングパラメーターネゴシエーション | サポート状況 | サポート状況 | サポート状況 |
| 圧縮形式: MJPEG、DV | サポート状況 | サポート状況 | サポート状況 |
| 非圧縮形式: YUY2、NV12 | サポート状況 | サポート状況 | サポート状況 |
| キャプチャデバイスとレンダリングデバイスの両方をサポートします。 | サポート状況 | サポート状況 | サポート状況 |
| 圧縮形式: MPEG2TS | サポートされていません | サポートされていません | サポートされていません |
| ストリームベースの形式とフレームベースの形式 | サポートなし | サポート | サポート状況 |
| H.264 ビデオコーデック | サポートされていません | サポートされていません | サポート状況 |

## <a name="customizing-the-uvc-driver"></a>UVC ドライバーのカスタマイズ

[拡張機能単体プラグイン](introduction-to-usb-video-class-extension-units.md)を指定することにより、uvc のサポートをカスタマイズできます。 拡張ユニットは、デバイスとベンダーが提供するアプリケーション間のプライベートコントロールチャネルを提供します。

## <a name="additional-resources"></a>その他のリソース

UVC 実装をテストするには、次のツールを使用できます。

- GraphEdit

- KsStudio

- USBView

これらのツールの詳細については、「 [Avstream のテストとデバッグ](avstream-testing-and-debugging.md)」を参照してください。

Usb ビデオクラス1.1 の仕様は、 [Usb 実装者フォーラム](https://www.usb.org/documents)の web サイトで見つけることができます。
