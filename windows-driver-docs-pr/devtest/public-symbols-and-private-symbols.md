---
title: パブリック シンボルとプライベート シンボル
description: パブリック シンボルとプライベート シンボル
ms.assetid: 83979008-f9ea-4976-8acd-d7efb82947cd
keywords:
- ビン、WDK、パブリックシンボル
- ビンの WDK、プライベートシンボル
- シンボルファイルの WDK ビンの場所
- プライベートシンボル WDK ビンプレース
- パブリックシンボル WDK BinPlace
- シンボルファイルのシンボルの削減
- 完全シンボルファイル WDK ビンプレース
- シンボルファイルの削除 WDK ビンプレース
- SymChk ツール WDK BinPlace
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 7b79373a8ead618e43a4c4edad5bd5f5556a990b
ms.sourcegitcommit: cbcb712a9f1f62c7d67e1b98097a0d8d24bd0c71
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/21/2020
ms.locfileid: "83769666"
---
# <a name="public-symbols-and-private-symbols"></a>パブリック シンボルとプライベート シンボル


## <span id="ddk_public_symbols_and_private_symbols_tools"></span><span id="DDK_PUBLIC_SYMBOLS_AND_PRIVATE_SYMBOLS_TOOLS"></span>


ドライバーまたはその他のプログラムをビルドする場合、プログラムのシンボルは通常、*シンボルファイル*に格納されますが、一部の古いコンパイラは実行可能ファイルに特定のシンボルを格納します。 デバッガーがプログラムを分析するときは、プログラムのシンボルにアクセスする必要があります。

通常、シンボルファイルには、次のいずれかまたはすべてのシンボルを含めることができます。

-   すべての関数の名前とアドレス

-   すべてのデータ型、構造体、およびクラス定義

-   グローバル変数の名前、データ型、およびアドレス

-   ローカル変数の名前、データ型、アドレス、およびスコープ

-   各バイナリ命令に対応するソースコード内の行番号

プログラム開発者によっては、すべての情報を顧客と共有することが不快に感じられることがあります。 ビンの位置を使用して、シンボルファイル内の記号の量を減らすことができます。

関数名やグローバル変数などのいくつかの基本的なシンボルは、最も基本的なデバッグにも必要です。 これらは、*パブリックシンボル*と呼ばれます。 データ構造名、1つのオブジェクトファイルに表示されるグローバル変数、ローカル変数、および行番号情報などのシンボルは、デバッグには必ずしも必要ではありませんが、より詳細なデバッグセッションには便利です。 これらは*プライベートシンボル*と呼ばれます。

プライベートとパブリックの両方のシンボルを含むシンボルファイルは、*完全なシンボルファイル*と呼ばれます。 パブリックシンボルだけを含むシンボルファイルは、"削除された*シンボルファイル*" と呼ばれます。

ビンの場所では、削除したシンボルファイルを作成できます。 これを行うには、パブリックシンボルのみを含む新しいシンボルファイルを作成します。プライベートシンボルが削除されます ("除去" アウト)。 最も一般的な BinPlace オプション (-a-x-s-n) が使用されている場合、削除されたシンボルファイルは、 **-s**スイッチの後に表示されているディレクトリに配置され、完全なシンボルファイルは、 **-n**スイッチの後に表示されているディレクトリに配置されます。

ビンの場所がシンボルファイルを削除すると、ファイルの削除された完全なバージョンには、同一の署名とその他の識別情報が与えられます。 これにより、デバッグにどちらのバージョンも使用できます。

**メモ**   シンボルファイルが実行可能ファイルと同じディレクトリにある場合、ビンの場所によってシンボルファイルからプライベートシンボルが除去されます。また、ビンのコマンドラインで、*実行可能*ファイルの名前 (および適切なオプション) を指定します。 シンボルファイル自体の名前を指定することはできません。そのため、ファイルを変更せずにビン位置に移動します。

 

シンボルファイルにプライベートシンボルが含まれているかどうかを判断する必要がある場合は、 [Symchk](https://docs.microsoft.com/windows-hardware/drivers/debugger/symchk)ツールを使用できます。 SymChk は、Windows 用デバッグツールパッケージの一部です。 詳細については、「SymChk と[Windows のデバッグ](https://docs.microsoft.com/windows-hardware/drivers/debugger/index)」を参照してください。

[Windows ハードウェア認定プログラム](https://docs.microsoft.com/windows-hardware/test/hlk/user/windows-hardware-lab-kit-user-s-guide)にドライバーを送信する場合は、Microsoft でプライベートシンボルを共有したくない場合は、削除されたシンボルファイルを送信できます。 BinPlace によって削除されたシンボルファイルは、通常、機密と見なされるドライバーのアーキテクチャの一部を公開しません。 詳細については、「 [Windows ハードウェア認定プログラム](https://docs.microsoft.com/windows-hardware/test/hlk/user/windows-hardware-lab-kit-user-s-guide)」を参照してください。

 

 





