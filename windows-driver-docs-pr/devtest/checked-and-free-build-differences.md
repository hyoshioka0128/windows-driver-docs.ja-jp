---
title: チェック ビルドと無料ビルドの違い
description: NT ベースのオペレーティングシステムには、無料 (リテール) で、チェック (デバッグ) という2つの異なるビルドがあります。 部分チェックされたビルドと呼ばれる3番目のオプションは、2つの要素を結合したものです。
ms.assetid: 43aebfdb-2605-485c-a3a4-93e03b33aeca
keywords:
- チェックされたビルドの WDK、無料のビルド
- 無料ビルド WDK
- 製品版ビルド WDK
ms.date: 05/08/2020
ms.localizationpriority: medium
ms.openlocfilehash: ffa44c1773dc1b58c6734387bd14fe07ad650c26
ms.sourcegitcommit: 076f9cd83313f6d8ab5688340f05bde7e8fbb8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/09/2020
ms.locfileid: "82999053"
---
# <a name="checked-and-free-build-differences"></a>チェック ビルドと無料ビルドの違い

使用できる NT ベースのオペレーティングシステムには、free (リテール) と checked (debug) の2つの異なるビルドがあります。 部分チェックされた*ビルドと呼ば*れる3番目のオプションは、2つの要素を結合したものです。

> [!NOTE]
> チェックを行ったビルドは、Windows 10 バージョン1803より前の古いバージョンの Windows で使用できました。
> Driver Verifier や GFlags などのツールを使用して、新しいバージョンの Windows でドライバーコードを確認します。

## <a name="differences-between-the-checked-and-free-builds"></a>チェックされたビルドとフリービルドの相違点

ここでは、ビルドの選択肢の違いをいくつか紹介します。

**無料のビルド (またはリテールビルド)**  
実稼働環境では、Microsoft Windows の無料ビルドが使用されます。 オペレーティングシステムの無償ビルドは、完全なコンパイラ最適化でビルドされます。 無料のビルドが修正可能な問題を検出すると、実行は継続されます。

オペレーティングシステムの無償ビルドを含む配布メディアには特別なラベルがありません。つまり、無料のビルドを含む CD またはダウンロードには、ビルドの種類を参照することなく、Windows のバージョン名でラベルが付けられます。

**チェックされたビルド (またはデバッグビルド)**  
Microsoft Windows のチェックされたビルドによって、オペレーティングシステムレベルの問題の特定と診断が容易になります。

チェックを行うビルドは、次の方法で無料ビルドと異なります。

- チェックされたビルドでは、多くのコンパイラの最適化 (スタックフレームの除去など) が無効になっています。 これにより、逆アセンブルされたマシン命令を理解しやすくなるため、システムソフトウェアの問題の原因をトレースしやすくなります。

- チェックされたビルドでは、オペレーティングシステムコードおよびシステム提供のドライバーで多数のデバッグチェックが有効になります。 これにより、チェックインされたビルドは、発生した内部の不整合と問題をすぐに識別できます。

**部分チェックされたビルド (または部分的なデバッグビルド)**  
Microsoft Windows の部分チェックされたビルドは、完全にチェックされたビルドに似ています。 主な違いは、部分チェックされたビルドには、チェックされたオペレーティングシステムイメージ (カーネル) とチェックされたハードウェアアブストラクションレイヤー (HAL) のみが含まれることです。 残りの Windows コンポーネントは、Windows の無料 (リテール) ビルドから取得されています。

部分チェックされたビルドは、次の方法で、無料および完全チェックされたビルドと異なります。

- 完全にチェックされたビルドと同様に、多くのコンパイラの最適化 (スタックフレームの除去など) は無効になります。 これにより、逆アセンブルされたマシン命令を理解しやすくなるため、問題の原因をトレースしやすくなります。

- 部分チェックされたビルドでは、オペレーティングシステムコードと HAL に対してさまざまなデバッグチェックを実行できます。 ただし、システムによって提供されるドライバーは無料 (リテール) ビルドから取得されるため、システム提供のドライバーのチェックされたバージョンを明示的にインストールしていない限り、問題を特定してデバッグするための完全チェックビルドの利点は得られません。

- 部分チェックされたビルドでは、最初に Windows の完全な無料 (リテール) ビルドをインストールする必要があります。 ブートオプションを使用すると、ブート時にチェックされるコンポーネントまたは解放されるコンポーネントのいずれかを読み込むようにコンピューターを構成できます。 その後、1台のコンピューターを使用して、Windows のチェックされたビルドと無料のビルドの両方を含むドライバーのテストを行うことができます。

## <a name="where-to-find-a-checked-build-of-windows"></a>Windows のチェックされたビルドの検索場所

チェックを行ったビルドを含むダウンロードおよび配布メディアには、"デバッグ/チェックされたビルド" というラベルが付いています。 チェックしたビルドダウンロードには、オペレーティングシステムのチェックされたバージョンに加えて、Hal、ドライバー、ファイルシステム、および多くのユーザーモードコンポーネントのチェックされたバージョンが含まれています。 チェックされるビルドと部分チェックされたビルドの取得の詳細については、「チェックされ[たビルドのインストール](installing-the-checked-build.md)」を参照してください。 便宜上、カーネルと HAL のチェックされたバージョンは、Windows Driver Kit (Windows Vista の場合は WDK 以降) の/debug ディレクトリにあります。

## <a name="when-to-use-the-checked-build-or-partial-checked-build"></a>チェックを行うビルドまたは部分チェックされたビルドを使用する場合

ドライバーをテストする必要がある場合は、開発中のある時点で、常にチェックされたビルドを使用する必要があります。 チェックされたビルドでは、ドライバーがオペレーティングシステムと対話する方法で問題が発生する可能性があります。 テストを完了していないと見なすことはできません。テストしても、ドライバーがチェックされたビルドで問題なく実行できることをテストする必要はありません。

チェックを行うビルドには、無料のビルドよりも多くの最適化とデバッグチェックが含まれているので、チェックされるビルドのサイズは大きく、無料のビルドよりも実行に時間がかかります。 このため、チェックを行ったビルドを使用して重大な問題を特定する必要がない限り、運用環境では無料のビルドが使用されます。

完全にチェックされたビルドの代わりに、部分チェックされたビルドを使用するようにコンピューターを構成できます。 これにより、デバッグのためにチェックされたビルドの利点が得られ、無料のビルドのパフォーマンスが向上します。 部分チェックされたビルド用にコンピューターを構成する方法の詳細については、「チェックされ[たオペレーティングシステムと HAL だけをインストールする (Windows Vista 以降)](installing-just-the-checked-operating-system-and-hal--for-windows-vist.md)」を参照してください。

部分チェックされたビルドを使用しているときのドライバーの詳細なテストについては、関連するシステム提供のドライバーのチェックされたバージョンをインストールすることも検討してください。 たとえば、低いディスクフィルタードライバーを開発している場合は、完全にチェックされたビルドから、ディスクの sys および Storport のチェックされたビルドを抽出してインストールすることを検討してください。

チェックビルドを実行していることを確認するには、「**手順 4-** チェックした[オペレーティングシステムと HAL のみをインストールする (Windows Vista 以降)](installing-just-the-checked-operating-system-and-hal--for-windows-vist.md) 」の手順に従います。